<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Workflows </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Workflows ">
    <meta name="generator" content="docfx 2.56.7.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-173249047-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'UA-173249047-2');
    </script>
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="A.Workflows">
<h1 id="github-workflows">GitHub workflows</h1>

<p>The Material.Blazor project makes use of GitHub workflows to automate a range of tasks:</p>
<ul>
<li>Deploy releases to nuget</li>
<li>Deploy the demo page (<a href="https://material-blazor.com">https://material-blazor.com</a>) for every release</li>
<li>Perform basic sanity checks for pull requests</li>
<li>Perform side-by-side comparison checks for pull requests against the current state of Material.Blazor</li>
</ul>
<h1 id="difference-between-official-demo-pages">Difference between official demo pages</h1>
<p>There are two demo pages for Material.Blazor: <a href="https://material-blazor.com">https://material-blazor.com</a> and <a href="https://material-blazor.github.io/Material.Blazor.Current">https://material-blazor.github.io/Material.Blazor.Current</a>.
<a href="https://material-blazor.com">https://material-blazor.com</a> reflects the state of the most recent release of Material.Blazor. Use this as a reference when designing your website. <a href="https://material-blazor.github.io/Material.Blazor.Current">https://material-blazor.github.io/Material.Blazor.Current</a> reflects the state of the main branch of the Material.Blazor repo. Its main purpose is to facilitate the development of the library.</p>
<h1 id="side-by-side-comparisons">Side-by-side comparisons</h1>
<p>One of the key principles behind Material.Blazor is correctness. Components should create the exact markup specified by the material components web project. To detect regressions, we perform side-by-side comparisons of new versions against the current version.</p>
<p>We crawl all pages of the demo website for both forks and PRs and compare them against the most recent version of Material.Blazor.</p>
<p>For forks, the workflow run will create a new issue with the summary of the comparison.
For pull requests against the Material.Blazor repo, a comment will be added to the pull request.</p>
<p><img src="https://user-images.githubusercontent.com/10850250/111618192-bd20b100-87ec-11eb-82e4-d8b6c772f2b9.png" alt="image"></p>
<h1 id="ci-and-release-github-action-workflows">CI and Release GitHub Action workflows</h1>
<p>These workflows are responsible for publishing three artifacts:</p>
<ul>
<li>The Material.Blazor DocFx pages</li>
<li>Material.Blazor.WebAssembly published output</li>
<li>The Material.Blazor NuGet package</li>
</ul>
<p>The first two artifacts are combined and published in the repository gh-pages of either the Material.Blazor or Material.Blazor.Current repositories.</p>
<p>The third artifact is hosted as a GitHub package (CI) or a NuGet package (Release).</p>
<h3 id="wip-workflow">WIP Workflow</h3>
<p>This workflow runs whenever a pull request is created, updated, or pushed.</p>
<h4 id="forked-repository">Forked repository</h4>
<p>Regardless of the trigger, the first three artifacts are published. The Website and DocFx pages are combined and reside locally in the forked repository gh-pages branch. The NuGet package is identified as a CI build &amp; published as an in the forked repository.
Part of the build involves a comparison to the Material.Blazor.Current repository gh-pages.</p>
<p>NOTE -- An issue exists when publishing the CI package to a forked repository in that the publish appears to work but the packages are not visible. For this reason (pending a service request response) the publish of the CI package is temporarily disabled.</p>
<h4 id="material-blazormaterialblazor-repository">Material-Blazor\Material.Blazor repository</h4>
<p>Regardless of the trigger, the first two artifacts (WebSite &amp; DocFx pages) are not published in the repository. On a Push trigger the the Material.Blazor Nuget package identified as a CI build is built and then published to the Material.Blazor repository. Additionally, the first two artifacts are created and combined in the Material.Blazor.Current repositry.</p>
<p>It is up to a developer to have checked the publishing results of the DocFx pages and WebSite in the forked repository (or Material.Blazor.Current repository) prior to initiating a release workflow.</p>
<h3 id="release-workflow">Release Workflow</h3>
<h4 id="forked-repository-1">Forked repository</h4>
<p>Upon creation of a tag no actions are performed in the multiple jobs. At the current time we see no reason to create releases in the forked repositories.</p>
<h4 id="material-blazormaterialblazor-repository-1">Material-Blazor\Material.Blazor repository</h4>
<p>The three artifacts are produced. The DocFx pages and WebSite are combined in the Material-Blazor\Material.Blazor\gh-pages branch.
The Material.Blazor NuGet package is published to NuGet.org.  The DocFx pages and WebSite are not required to be published to the Material.Blazor.Current repository by the release workflow as they will have been published by the CI build with the push request.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/stefanloerwald/Material.Blazor/blob/main/articles/Workflows.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
