name: Create repo
on:
  push:
  pull_request:
    types: [opened, reopened, edited, synchronize, closed]
jobs:
  create-comment:
    runs-on: ubuntu-latest
    if: github.event_name == 'pull_request'
    steps:
      - id: write-something
        run: |
          echo "Hello line1" > meta_report.md
          echo "" >> meta_report.md
          echo "## Hello http:// line2:_" >> meta_report.md
          echo "" >> meta_report.md
          echo "Hello line3" >> meta_report.md
          meta_report=$(cat meta_report.md)
          meta_report="${meta_report//'%'/'%25'}"
          meta_report="${meta_report//$'\n'/'%0A'}"
          meta_report="${meta_report//$'\r'/'%0D'}"
          echo "::set-output name=meta_report::$meta_report"
      - name: Add a comment to this PR
        uses: octokit/request-action@v2.x
        id: create-comment
        with:
          route: POST /repos/{org}/{repo}/issues/{issue_number}/comments
          org: stefanloerwald
          repo: Material.Blazor
          accept: 'application/vnd.github.v3+json'
          issue_number: ${{github.event.number}}
          body: |
            |
            "${{ steps.write-something.outputs.meta_report }}"
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}


